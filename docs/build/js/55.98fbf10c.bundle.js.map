{"version":3,"sources":["webpack:///./demo/demo/index.js","webpack:///./table/base.js","webpack:///./table/util.js","webpack:///./table/expand_table.js","webpack:///./table/select_table.js","webpack:///./table/table.js","webpack:///./table/index.js"],"names":["__webpack_require__","_table","data","total_money","id","sku_money","supplier_customer_id","submit_time","status","supplier_name","date_time","delta_money","settle_supplier_id","Component","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","handleToggleAll","state","selectAll","setState","selected","_","map","v","handleSelect","length","React","_react2","default","createElement","className","Table","slice","columns","Header","accessor","sortable","TableUtil","OperationHeader","onSortedChange","newSorted","column","shiftKey","console","log","_locales","_util","BaseTable","processItem","item","Cell","row","undefined","value","isString","SortHeader","_extends","minWidth","_this2","_props","defaultPageSize","showPagination","rest","_objectWithoutProperties","newColumns","vv","_reactTable2","pageSize","Math","min","max","_classnames2","defaultProps","keyField","noDataText","getLocale","loadingText","style","color","type","gm-react-table-sort-header-asc","gm-react-table-sort-header-desc","propTypes","PropTypes","oneOf","OperationCell","ExpandTable","handleExpandAll","isAllExpanded","expanded","newExpanded","each","i","renderHeader","filter","onClick","bind","renderExpander","_ref","index","handleExpandedChange","_base2","expander","Expander","concat","_toConsumableArray","onExpandedChange","loading","bool","array","isRequired","SubComponent","func","HocSelectTable","_selectTable2","SelectTable","isSelected","key","includes","handleToggleSelection","_this$props","onSelect","selectType","xor","onSelectAll","selectAllTip","ref","_ref2","toggleSelection","toggleAll","string"],"mappings":"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","file":"js/55.98fbf10c.bundle.js","sourcesContent":["import React from 'react'\nimport { Table, TableUtil } from '../../table'\nimport _ from 'lodash'\n\nconst data = [\n  {\n    'total_money': '2390.00',\n    'id': 'T5991-JHD-2018-07-25-00027',\n    'sku_money': '2390.00',\n    'supplier_customer_id': 'LDP20180117',\n    'submit_time': '2018-07-25',\n    'status': 2,\n    'supplier_name': '',\n    'date_time': '2018-07-25',\n    'delta_money': 0,\n    'settle_supplier_id': 'T10953'\n  }, {\n    'total_money': '176.00',\n    'id': 'T5991-JHD-2018-07-25-00026',\n    'sku_money': '176.00',\n    'supplier_customer_id': 'A2926',\n    'submit_time': '2018-07-25',\n    'status': 2,\n    'supplier_name': '段虎',\n    'date_time': '2018-07-25',\n    'delta_money': 0,\n    'settle_supplier_id': 'T14319'\n  }, {\n    'total_money': '279.00',\n    'id': 'T5991-JHD-2018-07-25-00025',\n    'sku_money': '279.02',\n    'supplier_customer_id': 'sc215',\n    'submit_time': '2018-07-25',\n    'status': 2,\n    'supplier_name': '黑市桥蔬菜批发（周洪芹）',\n    'date_time': '2018-07-25',\n    'delta_money': -2.0,\n    'settle_supplier_id': 'T13324'\n  }, {\n    'total_money': '714.70',\n    'id': 'T5991-JHD-2018-07-25-00024',\n    'sku_money': '714.70',\n    'supplier_customer_id': 'DZP001',\n    'submit_time': '2018-07-25',\n    'status': 2,\n    'supplier_name': '黑市桥豆制品批发1号摊位（陆燕红）',\n    'date_time': '2018-07-25',\n    'delta_money': 0,\n    'settle_supplier_id': 'T9651'\n  }, {\n    'total_money': '691.60',\n    'id': 'T5991-JHD-2018-07-25-00023',\n    'sku_money': '694.30',\n    'supplier_customer_id': 'DY100',\n    'submit_time': '2018-07-25',\n    'status': 2,\n    'supplier_name': '黑市桥豆芽批发（丁玉英）',\n    'date_time': '2018-07-25',\n    'delta_money': -270.0,\n    'settle_supplier_id': 'T16362'\n  }, {\n    'total_money': '60.00',\n    'id': 'T5991-JHD-2018-07-25-00022',\n    'sku_money': '60.00',\n    'supplier_customer_id': 'SC113',\n    'submit_time': '2018-07-25',\n    'status': 2,\n    'supplier_name': '黑市桥蔬菜批发（陈祥龙）',\n    'date_time': '2018-07-25',\n    'delta_money': 0,\n    'settle_supplier_id': 'T16195'\n  }, {\n    'total_money': '2332.74',\n    'id': 'T5991-JHD-2018-07-25-00021',\n    'sku_money': '2361.26',\n    'supplier_customer_id': 'sc215',\n    'submit_time': '2018-07-25',\n    'status': 2,\n    'supplier_name': '黑市桥蔬菜批发（周洪芹）',\n    'date_time': '2018-07-25',\n    'delta_money': -2852.0,\n    'settle_supplier_id': 'T13324'\n  }, {\n    'total_money': '925.00',\n    'id': 'T5991-JHD-2018-07-25-00020',\n    'sku_money': '925.50',\n    'supplier_customer_id': 'SC003',\n    'submit_time': '2018-07-25',\n    'status': 2,\n    'supplier_name': '黑市桥蔬菜批发2号档口（孙晋成）',\n    'date_time': '2018-07-25',\n    'delta_money': -50.0,\n    'settle_supplier_id': 'T9648'\n  }\n]\n\nclass Component extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      selectAll: false,\n      selected: [\n        'T5991-JHD-2018-07-25-00027'\n      ]\n    }\n  }\n\n  handleToggleAll = () => {\n    if (this.state.selectAll) {\n      this.setState({\n        selectAll: false,\n        selected: []\n      })\n    } else {\n      this.setState({\n        selectAll: true,\n        selected: _.map(data, v => v.id)\n      })\n    }\n  }\n\n  handleSelect = (selected) => {\n    let {selectAll} = this.state\n\n    if (selectAll && selected.length !== data.length) {\n      selectAll = false\n    }\n\n    this.setState({\n      selectAll,\n      selected\n    })\n  }\n\n  renderSubComponent () {\n    return (\n      <div className='gm-padding-10'>\n        <Table\n          data={data.slice(0, 3)}\n          columns={[{\n            Header: 'haha',\n            columns: [{\n              Header: '建单时间',\n              accessor: 'submit_time'\n            }, {\n              Header: '入库单号',\n              accessor: 'id'\n            }, {\n              Header: '供应商信息',\n              accessor: 'supplier_name'\n            }, {\n              Header: '入库金额',\n              accessor: 'total_money'\n            }, {\n              Header: '单据状态',\n              accessor: 'status'\n            }]\n          }]}\n        />\n      </div>\n    )\n  }\n\n  render () {\n    return (\n      <div>\n        <Table\n          data={[]}\n          columns={[{\n            Header: 'haha',\n            columns: [{\n              Header: '建单时间',\n              accessor: 'submit_time'\n            }, {\n              Header: '入库单号',\n              accessor: 'id'\n            }, {\n              Header: '供应商信息',\n              accessor: 'supplier_name'\n            }, {\n              Header: '入库金额',\n              accessor: 'total_money'\n            }, {\n              Header: '单据状态',\n              accessor: 'status'\n            }]\n          }]}\n        />\n\n        <div className='gm-padding-10'/>\n\n        <Table\n          data={data}\n          columns={[{\n            Header: '建单时间',\n            accessor: 'submit_time'\n          }, {\n            Header: '入库单号',\n            accessor: 'id'\n          }, {\n            Header: '供应商信息',\n            accessor: 'supplier_name'\n          }, {\n            Header: '入库金额',\n            accessor: 'total_money',\n            sortable: true\n          }, {\n            Header: '单据状态',\n            accessor: 'status'\n          }, {\n            Header: TableUtil.OperationHeader\n          }]}\n          onSortedChange={(newSorted, column, shiftKey) => {\n            console.log(newSorted, column, shiftKey)\n          }}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Component\n","import React from 'react'\nimport ReactTable from 'react-table'\nimport classNames from 'classnames'\nimport { getLocale } from '../src/locales'\nimport _ from 'lodash'\nimport { SortHeader } from './util'\n\nclass BaseTable extends React.Component {\n  processItem = (item) => {\n    let Cell = item.Cell\n    if (!Cell) {\n      Cell = row => {\n        if (row.value === undefined || row.value === null || row.value === '') {\n          return <span className='gm-text-desc'>-</span>\n        }\n        return row.value\n      }\n    }\n\n    let Header = item.Header\n    if (_.isString(Header) && item.sortable) {\n      Header = <SortHeader>{Header}</SortHeader>\n    }\n\n    return {\n      ...item,\n      Header,\n      sortable: !!item.sortable,\n      // 有意义，如果是 undefined, 则赋值 undefined，覆盖默认值 100\n      minWidth: item.minWidth,\n      Cell\n    }\n  }\n\n  render () {\n    const {\n      data, columns,\n      defaultPageSize,\n      showPagination,\n      className,\n      ...rest\n    } = this.props\n\n    const newColumns = _.map(columns, v => {\n      // groups 的形式\n      if (v.columns) {\n        const columns = _.map(v.columns, vv => this.processItem(vv))\n\n        return {\n          ...v,\n          columns\n        }\n      } else {\n        return this.processItem(v)\n      }\n    })\n\n    return (\n      <ReactTable\n        {...rest}\n        columns={newColumns}\n        data={data}\n        defaultPageSize={defaultPageSize}\n        pageSize={Math.min(defaultPageSize, Math.max(data.length, 1))}\n        className={classNames('gm-react-table -striped -highlight', className)}\n        showPagination={showPagination}\n      />\n    )\n  }\n}\n\nBaseTable.defaultProps = {\n  showPagination: false,\n  keyField: 'value',\n  defaultPageSize: 10,\n  noDataText: getLocale('table', 'noDataText'),\n  loadingText: getLocale('table', 'loadingText')\n}\n\nexport default BaseTable\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n\nconst OperationHeader = (\n  <div className='text-center'>\n    <i\n      className='xfont xfont-fun'\n      style={{color: 'rgb(19, 193, 159)'}}\n    />\n  </div>\n)\n\nconst OperationCell = function (props) {\n  return <div {...props} className={classNames('text-center', props.className)}/>\n}\n\nclass SortHeader extends React.Component {\n  render () {\n    const {\n      className,\n      type,\n      ...rest\n    } = this.props\n\n    return <span {...rest} className={classNames('gm-react-table-sort-header gm-cursor', {\n      'gm-react-table-sort-header-asc': type === 'asc',\n      'gm-react-table-sort-header-desc': type === 'desc'\n    }, className)}/>\n  }\n}\n\nSortHeader.propTypes = {\n  type: PropTypes.oneOf(['asc', 'desc'])\n}\n\nexport {\n  OperationHeader,\n  OperationCell,\n  SortHeader\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport BaseTable from './base'\nimport _ from 'lodash'\n\nclass ExpandTable extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      expanded: {}\n    }\n  }\n\n  handleExpandAll = (isAllExpanded) => {\n    const {data} = this.props\n\n    if (isAllExpanded) {\n      this.setState({\n        expanded: {}\n      })\n    } else {\n      const newExpanded = {}\n      _.each(data, (v, i) => {\n        newExpanded[i] = {}\n      })\n      this.setState({\n        expanded: newExpanded\n      })\n    }\n  }\n\n  renderHeader = () => {\n    const {data} = this.props\n    const {expanded} = this.state\n\n    // 注意此逻辑\n    const isAllExpanded = _.filter(expanded, v => v).length === data.length\n\n    return (\n      <div className='gm-cursor' onClick={this.handleExpandAll.bind(this, isAllExpanded)}>\n        {isAllExpanded ? <i className='xfont xfont-minus'/> : <i\n          className='xfont xfont-plus'/>}\n      </div>\n    )\n  }\n\n  renderExpander = ({index}) => {\n    const {expanded} = this.state\n\n    return (\n      <div>\n        {expanded[index] ? <i className='xfont xfont-minus'/> : <i className='xfont xfont-plus'/>}\n      </div>\n    )\n  }\n\n  handleExpandedChange = (expanded) => {\n    this.setState({\n      expanded\n    })\n  }\n\n  render () {\n    const {\n      columns,\n      ...rest\n    } = this.props\n    const {expanded} = this.state\n\n    return (\n      <BaseTable\n        {...rest}\n        columns={[{\n          expander: true,\n          Header: this.renderHeader,\n          Expander: this.renderExpander\n        }, ...columns]}\n        expanded={expanded}\n        onExpandedChange={this.handleExpandedChange}\n      />\n    )\n  }\n}\n\nExpandTable.propTypes = {\n  loading: PropTypes.bool,\n  data: PropTypes.array.isRequired,\n  columns: PropTypes.array.isRequired,\n  SubComponent: PropTypes.func.isRequired\n}\n\nexport default ExpandTable\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport BaseTable from './base'\nimport hocSelectTable from 'react-table/lib/hoc/selectTable'\nimport _ from 'lodash'\n\nconst HocSelectTable = hocSelectTable(BaseTable)\n\nclass SelectTable extends React.Component {\n  isSelected = (key) => {\n    const {selected} = this.props\n\n    return selected.includes(key)\n  }\n\n  handleToggleSelection = (key) => {\n    const {selected, onSelect, selectType} = this.props\n\n    if (selectType === 'radio') {\n      onSelect([key])\n    } else {\n      onSelect(_.xor(selected, [key]))\n    }\n  }\n\n  render () {\n    const {\n      loading, data, columns,\n      defaultPageSize,\n      selectAll, onSelectAll, selectAllTip,\n      selectType,\n      keyField,\n      noDataText, loadingText\n    } = this.props\n\n    return (\n      <div className='gm-react-table-select'>\n        <HocSelectTable\n          ref={ref => (this.ref = ref)}\n          loading={loading}\n          data={data}\n          columns={columns}\n          defaultPageSize={defaultPageSize}\n          className='-striped -highlight'\n          showPagination={false}\n          selectAll={selectAll}\n          isSelected={this.isSelected}\n          toggleSelection={this.handleToggleSelection}\n          toggleAll={onSelectAll}\n          selectType={selectType}\n          keyField={keyField}\n          noDataText={noDataText}\n          loadingText={loadingText}\n        />\n        {selectAllTip && selectAll && <div className='gm-react-table-select-all-tip'>{selectAllTip}</div>}\n      </div>\n    )\n  }\n}\n\nSelectTable.propTypes = {\n  loading: PropTypes.bool,\n  data: PropTypes.array.isRequired,\n  columns: PropTypes.array.isRequired,\n  selected: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  selectAll: PropTypes.bool.isRequired,\n  onSelectAll: PropTypes.func.isRequired,\n  selectAllTip: PropTypes.string,\n  keyField: PropTypes.string,\n  selectType: PropTypes.oneOf(['checkbox', 'radio']) // 如果是 radio， selectAll  onSelectAll 没意义\n}\n\nSelectTable.defaultProps = {\n  selectType: 'checkbox'\n}\n\nexport default SelectTable\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport BaseTable from './base'\n\nclass Table extends React.Component {\n  render () {\n    const {\n      ...rest\n    } = this.props\n\n    return (\n      <BaseTable\n        {...rest}\n      />\n    )\n  }\n}\n\nTable.propTypes = {\n  loading: PropTypes.bool,\n  data: PropTypes.array.isRequired,\n  columns: PropTypes.array.isRequired\n}\n\nexport default Table\n","import Table from './table'\nimport SelectTable from './select_table'\nimport ExpandTable from './expand_table'\nimport 'react-table/react-table.css'\nimport './style.less'\nimport { OperationHeader, OperationCell, SortHeader } from './util'\n\nconst TableUtil = {\n  OperationHeader, OperationCell, SortHeader\n}\n\nexport {\n  Table,\n  ExpandTable,\n  SelectTable,\n  TableUtil\n}\n"],"sourceRoot":""}